{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container py-5">
    <article>
        {% if articulo.imagen_portada %}
        <img src="{{ articulo.imagen_portada.url }}" class="img-fluid mb-4" alt="{{ articulo.titulo }}">
        {% endif %}
        
        <header class="mb-4">
            <h1>{{ articulo.titulo }}</h1>
            <p class="text-muted">
                Por {{ articulo.autor.get_full_name|default:articulo.autor.username }} 
                | {{ articulo.fecha_publicacion|date:"d M Y" }}
                | {{ articulo.get_categoria_display }}
            </p>
        </header>
        
        <div class="articulo-contenido mb-5">
            {{ articulo.contenido|safe }}
        </div>
        
        {% if articulo.puede_editar(user) %}
        <div class="mt-3">
            <a href="{% url 'moiraflow:editar_articulo' articulo.slug %}" class="btn btn-secondary">Editar</a>
            <a href="{% url 'moiraflow:eliminar_articulo' articulo.slug %}" class="btn btn-danger">Eliminar</a>
        </div>
        {% endif %}
    </article>
    
    <div class="mt-5">
        <a href="{% url 'moiraflow:lista_articulos' %}" class="btn btn-outline-primary">
            &larr; Volver a todos los art√≠culos
        </a>
    </div>
</div>
{% endblock %}